Version 4
SHEET 1 1060 680
WIRE 608 32 608 0
WIRE 960 32 960 0
WIRE 608 144 608 112
WIRE 736 144 608 144
WIRE 816 144 736 144
WIRE 960 160 960 112
WIRE 960 160 880 160
WIRE 1024 160 960 160
WIRE 1056 160 1024 160
WIRE -48 176 -80 176
WIRE 32 176 -48 176
WIRE 192 176 32 176
WIRE 304 176 256 176
WIRE 448 176 304 176
WIRE 464 176 448 176
WIRE 816 176 464 176
WIRE -80 208 -80 176
WIRE 32 208 32 176
WIRE 608 208 608 144
WIRE 304 224 304 176
WIRE 448 224 448 176
WIRE 608 224 608 208
WIRE 736 224 736 144
WIRE 32 320 32 288
WIRE 304 336 304 304
WIRE 448 336 448 288
WIRE 608 336 608 304
WIRE 736 336 736 288
WIRE 864 384 864 368
WIRE -80 400 -80 288
WIRE 32 432 32 400
WIRE 864 480 864 464
WIRE -80 512 -80 480
FLAG 608 336 0
FLAG 304 336 0
FLAG 864 368 v+
FLAG 864 480 0
FLAG 848 128 v+
FLAG 608 0 v+
FLAG 848 192 0
FLAG 1024 160 out
FLAG -80 512 0
FLAG -48 176 in
FLAG 960 0 v+
FLAG 32 432 0
FLAG 464 176 in_rect
FLAG 448 336 0
FLAG 608 208 th
FLAG 736 336 0
SYMBOL diode 192 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 288 208 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL Comparators\\LT1017 848 160 R0
SYMATTR InstName U1
SYMBOL res 592 208 R0
SYMATTR InstName R2
SYMATTR Value 2.7k
SYMBOL res 592 16 R0
SYMATTR InstName Rpoti
SYMATTR Value 10k
SYMBOL voltage 864 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL voltage -80 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 10 100u 1n 1n 10u 100u)
SYMBOL res 944 16 R0
SYMATTR InstName R4
SYMATTR Value 5.1k
SYMBOL voltage 32 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 -10 110u 1n 1n 10u 100u)
SYMBOL res 16 192 R0
SYMATTR InstName R5
SYMATTR Value 1
SYMBOL res -96 192 R0
SYMATTR InstName R6
SYMATTR Value 1
SYMBOL cap 432 224 R0
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL cap 720 224 R0
SYMATTR InstName C2
SYMATTR Value 100n
TEXT -96 600 Left 2 !.tran 0.5m
